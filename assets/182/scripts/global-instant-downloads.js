var whichinstantdownloads={slidingController:function(c,b,a,d){$(c).addClass("js-slider");$(c+" "+b).each(function(){if(!$(this).hasClass("on")){$(this).children(d).hide()}});$(c+" "+b+" "+a).click(function(){if($(this).parents(b).children(d).is(":visible")){$(this).parents(b).children(d).slideUp("slow");$(this).parents(b).removeClass("on")}else{$(this).parents(b).children(d).slideDown("slow");$(this).parents(b).addClass("on")}return false})},thickbox:function(){$("#preview").click(function(){$("body").addClass("pdf")});$(".close-lightbox").click(function(){tb_remove();$("body").removeClass("pdf");return false})},button:{personalDetails:{src:"https://www.which.co.uk/assets/images/buttons/btn-edit-your-personal-details.gif",height:"25",width:"188",alt:"Edit your personal details",cssclass:"editbutton"},billingAddress:{src:"https://www.which.co.uk/assets/images/buttons/btn-edit-your-billing-address.gif",height:"24",width:"181",alt:"Edit your billing address",cssclass:"editbutton"},paymentDetails:{src:"https://www.which.co.uk/assets/images/buttons/btn-edit-your-payment-details.gif",height:"24",width:"192",alt:"Edit your payment details",cssclass:"editbutton"},loginDetails:{src:"https://www.which.co.uk/assets/images/buttons/btn-edit-your-login-details.gif",height:"24",width:"171",alt:"Edit your log in details",cssclass:"editbutton"},closeEditScreen:{src:"https://www.which.co.uk/assets/images/buttons/btn-close-edit-screen.gif",height:"25",width:"135",alt:"Close the edit screen"}},showEdit:function(b){var a=whichinstantdownloads.button.closeEditScreen;$("#"+b+" img.editbutton").attr({src:a.src,height:a.height,width:a.width,alt:a.alt});$("#"+b+"Edit").slideDown()},closeEdit:function(b){var a=whichinstantdownloads.button[b];$("#"+b+" img.editbutton").attr({src:a.src,height:a.height,width:a.width,alt:a.alt});$("#"+b+"Edit").slideUp("fast")},discardChanges:function(a){$("#"+a).parents("form:first").each(function(){this.reset()})},createEditButton:function(c,b){var a='<img alt="'+b.alt+'" src="'+b.src+'"width="'+b.width+'" height="'+b.height+'"class="'+b.cssclass+'"/>';return a}};$("document").ready(function(){whichinstantdownloads.thickbox();$("div.hide-for-js").hide();$("div.accountdetailsection").each(function(){var c=$(this).attr("id");var b;switch(c){case"personalDetails":b=whichinstantdownloads.button.personalDetails;break;case"billingAddress":b=whichinstantdownloads.button.billingAddress;break;case"paymentDetails":b=whichinstantdownloads.button.paymentDetails;break;case"loginDetails":b=whichinstantdownloads.button.loginDetails;break;default:b=false;break}if(b!=false){var a=whichinstantdownloads.createEditButton(c,b);$(this).append(a);$("#"+c+" .editbutton").toggle(function(){whichinstantdownloads.showEdit(c);return false},function(){whichinstantdownloads.closeEdit(c);return false})}});$("div.editPanel").each(function(){var a=$(this).attr("id");$(this).find(".btnWrapper").prepend('<input type="image" src="https://www.which.co.uk/assets/images/buttons/btn-discard-changes.gif" onclick="whichinstantdownloads.discardChanges(&quot;'+a+'&quot;); return false;"/>')})});