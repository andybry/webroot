var which=which||{};which.MVT=which.MVT||{};which.MVT.liveStatus=false;(function(){if(document.getElementById("optimostMVTisLive")){var a=document.getElementById("optimostMVTisLive");if(a&&a.getAttribute("content")==="true"){which.MVT.liveStatus=true}}})();var optimost={isLive:which.MVT.liveStatus,liveUrl:"es/1611/c/1/u/which_live.js",qaUrl:"es/1611/c/1/u/which_staging.js",cDomain:"which.co.uk",es:[],cs:[],A:{},C:{},D:document,L:document.location,M:[],Q:{},T:new Date(),U:"",V:"2.7",Enabled:true,ST:"script",SA:{type:"text/javascript"},I:function(){var j=this.L.search;var m=this.D.cookie;if(j.length>3){for(var f=j.substring(1).split("&"),h=0,e=f.length;h<e;h++){var k=f[h].indexOf("=");if(k>0){this.Q[f[h].substring(0,k)]=unescape(f[h].substring(k+1))}}}if(m.length>3){for(var f=m.split(";"),h=0,d=f.length;h<d;h++){var g=f[h].split("=");while(g[0].substring(0,1)==" "){g[0]=g[0].substring(1,g[0].length)}if(g.length==2){this.C[g[0]]=unescape(g[1])}}}},B:function(){var b;this.A={};var a=this;this.A.D_ts=Math.round(a.T.getTime()/1000);this.A.D_tzo=a.T.getTimezoneOffset();this.A.D_loc=a.L.protocol+"//"+a.L.hostname+a.L.pathname;this.A.D_ckl=a.D.cookie.length;this.A.D_ref=a.D.referrer;if(typeof optrial=="object"){for(b in optrial){this.A[b]=optrial[b]}}for(b in this.Q){this.A[b]=this.Q[b]}for(b in this.C){if(b.substring(0,2)=="op"){this.A[b]=this.C[b]}}},S:function(){var a="";for(var b in this.A){if(this.A[b]!=null&&this.A[b]!=""){a+=(a.length>0?"&":(this.U.indexOf("?")>0?"&":"?"))+b+"="+escape(this.A[b])}}return this.U+a},SC:function(g,a,b,c){var f=new Date();f.setTime(f.getTime()+b*1000);this.D.cookie=g+"="+escape(a)+((b==null)?"":("; expires="+f.toGMTString()))+"; path=/"+((c==null)?"":(";domain="+c))},SLD:function(){var b=this.D.domain;var c=b.split(".");var a=c.length;if(a<2){b=null}else{if(!isNaN(c[a-1])&&!isNaN(c[a-2])){b=null}else{b="."+c[a-2]+"."+c[a-1]}}return b},R:function(g,j,i,h){if(this.Enabled){var a=true;if(g<1000){a=(Math.floor(Math.random()*1000)<g);if(j!=null){if(this.C[j]!=null){a=(this.C[j]!="mvt-no")}else{this.SC(j,a?"mvt-yes":"mvt-no",h,i)}}}if(a){var f="<"+this.ST+' src="'+this.S()+'"';for(n in this.SA){f+=(" "+n+'="'+this.SA[n]+'"')}f+="></"+this.ST+">";this.D.write(f)}}},addModule:function(a,b){this.M[a]=b},displayModule:function(a){if(typeof this.M[a]=="function"){this.M[a]()}},hasModules:function(){return count(this.M)>0}};optimost.I();var optrial=(typeof optrial=="object")?optrial:{};var opcounter=(typeof opcounter=="object")?opcounter:{};optimost.f=function(a){var b=optimost.L.protocol;return b+((b=="http:")?"//by.optimost.com/":"//by.essl.optimost.com/by/")+a};optimost.Experiment=function(b,a){if(typeof b!="string"){this.url=""}else{if(b.match(/trial\//)){b=b.substring(b.indexOf("trial/"));this.url=optimost.f(b)}else{this.url=""}}if(typeof a=="string"){this.modules=[];this.modules.push(a)}else{if(typeof a=="object"){this.modules=a}}this.enabled=true;this.ratio=1000;this.cookieName=null;this.domain=null;this.expiry=null;this.hideCSS="";this.showCSS="";this.trialCodeLow=false;this.run=function(d){if(this.url!=""&&optimost.Enabled){if((!this.trialCodeLow&&(typeof d!="string"||d!="low"))||(this.trialCodeLow&&d=="low")){this.attribute();var c=optimost;c.U=this.url;c.B();if(this.enabled){c.R(this.ratio,this.cookieName,this.domain,this.expiry)}}else{if(this.hideCSS!=""&&(typeof d!="string"||d!="low")){document.write("<style>"+this.hideCSS+"</style>");if(this.showCSS==""){this.showCSS=this.hideCSS.replace(/display(\s+)?\:(\s+)?none/g,"display:block !important").replace(/visibility(\s+)?\:(\s+)?hidden/g,"visibility:visible !important")}}}if(d!="low"){optimost.es.push(this)}}};this.attribute=function(){};this.dMs=function(){for(var c=0;c<this.modules.length;c++){optimost.displayModule(this.modules[c])}}};optimost.Counter=function(a){if(typeof a!="string"){this.url=""}else{if(a.match(/counter\//)){a=a.substring(a.indexOf("counter/"));this.url=optimost.f(a)}else{this.url=""}}this.enabled=true;this.attribute=function(){};this.add=function(){optimost.cs.push(this)};this.run=function(){if(this.url!=""&&optimost.Enabled){this.attribute();var c=optimost;c.U=this.url;var b=optrial;optrial=opcounter;c.B();optrial=b;var d="<"+c.ST+' src="'+c.S()+'"';for(n in c.SA){d+=(" "+n+'="'+c.SA[n]+'"')}d+="></"+c.ST+">";if(this.enabled){c.D.write(d)}}};this.add()};optimost.getC=function(a){if(typeof optimost=="object"){for(n in optimost.C){if(n==a){return optimost.C[n]}}}return null};optimost.setC=function(c,a,b){document.cookie=c+"="+escape(a)+";path=/"+((b==null)?"":(";domain="+b))};optimost.getDm=function(){var a=optimost.cDomain;if(typeof a=="string"&&document.domain.indexOf(a)!=-1){return a}else{return null}};optimost.tUrl=optimost.L.toString();optimost.P=((optimost.tUrl.split("//")[0]!="http:")?"https://by.essl":"http://es")+".optimost.com/";optimost.liveUrl=optimost.P+optimost.liveUrl.substring(optimost.liveUrl.indexOf("es/"));optimost.qaUrl=optimost.P+optimost.qaUrl.substring(optimost.qaUrl.indexOf("es/"));optimost.jsUrl=optimost.qaUrl;if(optimost.isLive==true){optimost.jsUrl=optimost.liveUrl}if(optimost.tUrl.indexOf("opglobalqa=true")!=-1){optimost.setC("opglobalqa","true",optimost.getDm());optimost.gQa=true}else{if(optimost.tUrl.indexOf("opglobalqa=false")!=-1){optimost.setC("opglobalqa","false",optimost.getDm());optimost.gQa=false}else{optimost.gQa=(optimost.getC("opglobalqa")=="true")}}if(optimost.gQa){optimost.jsUrl=optimost.qaUrl}optimost.day=Math.round(optimost.T.getTime()/(3600000*24));document.write('<script type="text/javascript" src="'+optimost.jsUrl+"?D_ds="+optimost.day+'"><\/script>\n');